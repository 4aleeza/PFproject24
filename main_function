#include <stdio.h>
#include <string.h>
#include<windows.h>
#include <unistd.h>
#define MAXL 100
void func(int id,int prog);

void func(int id,int prog){
    printf("ID %d : [",id);
    for (int i=0;i<MAXL;i++){
        if (i<prog){
            printf("=");
        }
        else printf(" ");
    }
    printf("] %d%%\r",prog);
    fflush(stdout);
}

int main(){
    char pwd[50];
    char name[50];
    FILE *cred=fopen("creds.txt","a");
    if (cred==NULL){
        printf("NULL FILE : ERROR 404 \n");
        return 1;
    }
    printf("Enter Username : \n");
    fgets(name,sizeof(name),stdin);
    name[strcspn(name,"\n")]='\0'; //removing newline when user hits enter

    printf("Enter Password : ");
    fgets(pwd,sizeof(pwd),stdin);
    pwd[strcspn(pwd,"\n")]='\0';
    fprintf(cred,"%s\n%s\n",name,pwd);
    fclose(cred);
    
    int prog=100; //buffer

    printf("NAME : %s  PASSWORD : ",name);
    for (int i=0;i<strlen(pwd);i++){
        printf("*");
    }


    printf("\n");
    printf("WELCOME TO PROXIMITY PING !\n");
    char yn[15]; //yes or no
    int ans=0;
    printf("DEAR %s, WOULD YOU LIKE TO ACCESS CURRENTLY AVAILIBLE LOCATIONS? \n",name);
    scanf("%s",yn);
    if ((strcmp(yn,"yes")==0) || (strcmp(yn,"YES")==0)){
    int id=2; //for load
    int prog=100; //loading progress
    for (int i=0;i<=prog;i++){
        func(id,i);
        usleep(100000); //blinks
    }
    printf("\n");


        ans=ans+1;
    }
    if (ans==1){
    //password saving ends here
    char *locations[10] = {
    "civil lines (1)",
    "pechs (2)",
    "clifton (3)",
    "cantonment (4)",
    "sector 14 (5)",
    "regal chowk (6)",
    "malir cantt (7)",
    "shah latif (8)",
    "shahrah-e-faisal (9)",
    "north nazimabad (10)"
    };

    for (int i=0;i<10;i++){
        printf("%s\n",locations[i]);
    }
    printf("\n");
    int loc; //location number
    printf("ENTER THE NUMBER OF LOCATION YOU WANT TO ACCESS : \n");
    scanf("%d",&loc); 
    char ping[30];


        while (1){

        printf("ENTER THE NUMBER OF LOCATION YOU WANT TO ACCESS : \n");
        scanf("%d",&loc);
        if (loc == 0) {
        printf("EXITING PROGRAM. THANK YOU FOR USING PROXIMITY PING!\n");
        break; 
        }
        if (loc == 111) {
            printf("PROCEEDING FURTHER \n");
            printf("ENTER THE PLACE YOU WOULD LIKE TO HEAD TO : \n");
            fgets(ping,sizeof(ping),stdin);
            //calls restaurant and hotel functions
            break;
        }

    switch (loc) {
        case 1 : {
            printf("**********************************\n");
            printf("\n HOTEL PEARL CONTINENTAL \n RATING ON TRIVAGO : **** \n JAMSHED SAYS : AMAZING AMBIANCE! \n RUBA SAYS : VERY BEAUTIFUL \n");
            printf("FINE-DINE/ROOM SERVICES\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("09:00AM-02:00AM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT FOODS INN \n RATING ON ZOMATO : **** \n ZAHRA SAYS : EXCELLENT TASTE, AFFORDABLE PRICES! \n AHMED SAYS : A PERFECT PLACE FOR FAMILIES. \n");
            printf("CUISINES: PAKISTANI, CHINESE\n");
            printf("TAKEAWAY AND DELIVERY AVAILABLE\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("11:00AM-11:00PM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS AVAILABLE\n");
            break;
        }
                case 2 : {
            printf("**********************************\n");
            printf("\n HOTEL BEACH LUXURY \n RATING ON TRIVAGO : ***** \n ARHUM SAYS : OUTCLASS.\n");
            printf("FINE-DINE/ROOM SERVICES AVAILIBLE \n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("06:00AM-04:00AM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT GHALIB \n RATING ON GOOGLE : **** \n IMRAN SAYS : A LEGENDARY SPOT FOR DESI FOOD! \n KIRAN SAYS : THE BBQ IS SIMPLY AMAZING. \n");
            printf("CUISINES: PAKISTANI, BBQ\n");
            printf("OUTDOOR SEATING AVAILABLE\n");
            printf("ACCEPTS CARD AND CASH PAYMENTS\n");
            printf("12:00PM-12:00AM OPEN 7 DAYS\n");
            break;

        }
                case 3 : {
            printf("**********************************\n");
            printf("\n ROYAL-INN HOTEL \n RATING ON TRIVAGO : ** \n ZALIK SAYS : POOR SERVICE \n AHMAD SAYS : TOO EXPENSIVE \n");
            printf("FINE-DINE/ROOM SERVICES AVAILIBLE \n");
            printf("DOES NOT ACCEPT CARD PAYMENTS\n");
            printf("11:00AM-12:00AM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT LAL QILA \n RATING ON TRIPADVISOR : ***** \n SAMEER SAYS : A ROYAL DINING EXPERIENCE! \n ANAM SAYS : GREAT VARIETY OF FOOD WITH LIVE COOKING. \n");
            printf("CUISINES: PAKISTANI, MUGHLAI\n");
            printf("BUFFET AND Ã€ LA CARTE AVAILABLE\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("07:00PM-12:00AM OPEN 7 DAYS\n");
            break;
        }
                case 4 : {
            printf("**********************************\n");
            printf("\n XEFAN HOTEL \n RATING ON TRIVAGO : *** \n JARASEEM SAYS : GOOD FOOD \n TOSI SAYS : NOT BAD \n");
            printf("FINE-DINE AVAILIBLE\n");
            printf("ROOM SERVICES NOT AVAILIBLE\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("09:00AM-02:00AM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT COCONUT GROVE \n RATING ON YELP : **** \n ALIA SAYS : RELAXING ATMOSPHERE WITH GREAT SEAFOOD. \n HASSAN SAYS : THE COCONUT CURRY IS A MUST-TRY. \n");
            printf("CUISINES: SEAFOOD, ASIAN\n");
            printf("PRIVATE DINING ROOMS AVAILABLE\n");
            printf("ACCEPTS CARD AND DIGITAL PAYMENTS\n");
            printf("01:00PM-11:00PM OPEN 7 DAYS\n");

            break;
        }
                case 5 : {
            printf("**********************************\n");
            printf("\n AMBIANCE BOUTIQUE HOTEL \n RATING ON TRIVAGO : * \n ABDULLAH SAYS : WORST HOTEL IVE STAYED IN \n HAMZA SAYS : NO, JUST NO \n");
            printf("OUTDOOR-DINE/ROOM SERVICES AVAILIBLE \n");
            printf("DOES NOT ACCEPT CARD PAYMENTS\n");
            printf("12:00PM-12:00AM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS NOT AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT XANDER'S \n RATING ON GOOGLE : ***** \n SAAD SAYS : GREAT FOR BRUNCH! \n LINA SAYS : FRESH INGREDIENTS AND TRENDY VIBE. \n");
            printf("CUISINES: INTERNATIONAL, CONTINENTAL\n");
            printf("BREAKFAST, LUNCH, AND DINNER OPTIONS AVAILABLE\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("09:00AM-12:00AM OPEN 7 DAYS\n");
            break;
        }        case 6 : {
            printf("**********************************\n");
            printf("\n AVARI TOWERS \n RATING ON TRIVAGO : ***** \n SHAHVEER SAYS : BEST HOTEL EVER! \n ISBAH SAYS : I LOVE THIS PLACE \n");
            printf("PROXIMITY PING'S BEST RATED+");
            printf("FINE-DINE/ROOM-SERVICES/JACQUZEE/LODGES AVAILIBLE\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("OPEN 24/7\n");
            printf("PROXIMITY PING DISCOUNTS AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT GAFFAR KABAB HOUSE \n RATING ON ZOMATO : **** \n ABDULLAH SAYS : THE JUICIEST KABABS IN TOWN! \n AMINA SAYS : PURE DESI TASTE, GREAT PORTIONS. \n");
            printf("CUISINES: BBQ, PAKISTANI\n");
            printf("TAKEAWAY AVAILABLE\n");
            printf("ACCEPTS CASH PAYMENTS\n");
            printf("05:00PM-12:00AM OPEN 7 DAYS\n");
            break;
        }
                case 7 : {
            printf("**********************************\n");
            printf("\n DAYS-INN HOTEL \n RATING ON TRIVAGO : * \n SALEEM SAYS : WORST QUALITY BEDS AND ROOMS \n");
            printf("FINE-DINE \n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("09:00AM-02:00AM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS NOT AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT LOTUS COURT \n RATING ON GOOGLE : **** \n NAIMA SAYS : EXCELLENT CHINESE FOOD. \n JUNAID SAYS : LOVE THE AUTHENTIC FLAVORS. \n");
            printf("CUISINES: CHINESE\n");
            printf("INDOOR AND OUTDOOR SEATING AVAILABLE\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("12:00PM-10:30PM OPEN 7 DAYS\n");
            break;
        }
                case 8 : {
            printf("**********************************\n");
            printf("\n HOTEL MANDARIAB \n RATING ON TRIVAGO : *** \n HADEED SAYS : A LITTLE EXPENSIVE \n AASHIR SAYS : BRING BUCKS HAHAHA \n");
            printf("FINE-DINE/ROOM SERVICES AVAILIBLE \n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("09:00AM-12:00AM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS NOT AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT SAKURA \n RATING ON TRIPADVISOR : ***** \n AYESHA SAYS : BEST SUSHI IN THE CITY! \n DANIAL SAYS : AUTHENTIC JAPANESE FLAVORS. \n");
            printf("CUISINES: JAPANESE\n");
            printf("RESERVATIONS RECOMMENDED\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("07:00PM-11:30PM OPEN 7 DAYS\n");
            break;
        }
                case 9 : {
            printf("**********************************\n");
            printf("\n BURJ-AL ARAB HOTEL \n RATING ON TRIVAGO : **** \n LUQMAN SAYS : FRIENDLY STAFF, BEAUTIFUL ROOMS \n");
            printf("FINE-DINE/ROOM SERVICES AVAILIBLE \n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("09:00AM-02:00AM OPEN 7 DAYS\n");
            printf("PROXIMITY PING DISCOUNTS AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT OKRA \n RATING ON YELP : ***** \n RABIA SAYS : A COZY PLACE WITH AMAZING FOOD. \n TALHA SAYS : THE PASTA AND DESSERTS ARE MUST-TRIES! \n");
            printf("CUISINES: CONTINENTAL, ITALIAN\n");
            printf("FINE DINING EXPERIENCE\n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("12:00PM-11:00PM OPEN 7 DAYS\n");
            break;
        }
                case 10 : {
            printf("**********************************\n");
            printf("\n PENNINSULA HOTEL \n RATING ON TRIVAGO : * \n RAMEEL SAYS : VERY BAD EXPERIENCE :( ) \n ZULQARNAIN SAYS : EWW \n");
            printf("FINE-DINE/DELIVERY SERVICES AVAILIBLE \n");
            printf("ACCEPTS CARD PAYMENTS\n");
            printf("09:00AM-02:00AM OPEN 5 DAYS APART FROM WEDNESDAYS/FRIDAYS \n");
            printf("PROXIMITY PING DISCOUNTS AVAILIBLE\n");
            printf("\n**********************************\n");
            printf("**********************************\n");
            printf("\n RESTAURANT BBQ TONIGHT \n RATING ON ZOMATO : ***** \n FARHAN SAYS : THE BBQ IS NEXT LEVEL! \n NIDA SAYS : A CLASSIC FOR PAKISTANI CUISINE LOVERS. \n");
            printf("CUISINES: BBQ, PAKISTANI\n");
            printf("LIVE COOKING AND OUTDOOR SEATING AVAILABLE\n");
            printf("ACCEPTS CARD AND DIGITAL PAYMENTS\n");
            printf("12:00PM-12:00AM OPEN 7 DAYS\n");
            break;
        }
        default : {
            printf("EXITING PROGRAM. PLEASE SIGN BACK IN TO RE-ENTER. \n");
        }
    }
    }
    else if (ans==0){
        printf("WE ARE SORRY TO SEE YOU GO :( COME BACK SOON! \n");
    }

    return 0;

}
